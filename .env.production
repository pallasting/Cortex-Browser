# Cortex Browser 生产环境配置
# 生产环境专用配置

# ============= 应用配置 =============
NODE_ENV=production
RUST_ENV=production
APP_NAME=cortex-browser
APP_VERSION=1.0.0
APP_PORT=8080

# ============= 日志配置 =============
LOG_LEVEL=warn
LOG_FILE=/var/log/cortex-browser/app.log
LOG_ROTATION=daily
LOG_MAX_SIZE=500MB
LOG_MAX_FILES=90
LOG_COMPRESSION=true
LOG_STRUCTURED=true

# ============= GPU配置 =============
GPU_ENABLED=true
GPU_BACKEND=auto
GPU_MEMORY_LIMIT=16GB
GPU_COMPUTE_UNITS=all
GPU_PRECISION=float16

# ============= AI模型配置 =============
AI_MODEL_PATH=/opt/cortex-browser/models
AI_MODEL_CACHE_SIZE=50GB
AI_INFERENCE_TIMEOUT=60000
AI_BATCH_SIZE=64
AI_MAX_CONCURRENT_REQUESTS=20
AI_MODEL_PREFETCH=true

# ============= 数据库配置 =============
# PostgreSQL (生产环境)
DATABASE_URL=postgresql://cortex:secure_password@db:5432/cortex_db
DATABASE_POOL_SIZE=50
DATABASE_TIMEOUT=60000
DATABASE_SSL_MODE=require
DATABASE_MAX_CONNECTIONS=100

# ============= 缓存配置 =============
CACHE_TYPE=redis
CACHE_SIZE=8GB
CACHE_TTL=7200
REDIS_URL=redis://redis:6379/0
REDIS_CLUSTER_NODES=redis-node-1:6379,redis-node-2:6379,redis-node-3:6379

# ============= 安全配置 =============
ENABLE_CORS=true
CORS_ORIGINS=https://app.cortex-browser.com,https://www.cortex-browser.com
ENABLE_CSP=true
ENABLE_HTTPS=true
SSL_CERT_PATH=/etc/ssl/certs/cortex-browser.crt
SSL_KEY_PATH=/etc/ssl/private/cortex-browser.key
HSTS_ENABLED=true
SECURITY_HEADERS=true

# ============= 监控配置 =============
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true
PROFILING_ENABLED=false
TRACING_ENABLED=true
JAEGER_ENDPOINT=http://jaeger:14268/api/traces

# ============= API配置 =============
API_RATE_LIMIT=10000
API_TIMEOUT=60000
API_MAX_REQUEST_SIZE=50MB
API_COMPRESSION=true

# ============= Web Scraping配置 =============
SCRAPING_TIMEOUT=60000
SCRAPING_USER_AGENT=Cortex-Browser-Production/1.0.0
SCRAPING_MAX_CONCURRENT=10
SCRAPING_RETRY_ATTEMPTS=5
SCRAPING_PROXY_URL=

# ============= 生产环境配置 =============
WORKERS=8
MAX_MEMORY_USAGE=32GB
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
ROLLBACK_ENABLED=true